## Thrashing 소프트웨어적인 해결책
### working set 활용하는 방법

- Thrashing (스래싱) 이란?
: 프레임이 부족하면 페이지 폴트가 자주 발생한다.
페이지 폴트가 발생하면 잦은 스와핑 작업으로 인해 CPU 사용률이 떨어지게 된다.
CPU 사용률이 떨어지면 운영체제는 더 많은 프로세스를 메모리에 올리려 하고, 이는 더 잦은 페이지 폴트로 이어져 악순환이 된다.
이러한 프로세스가 실제 실행되는 시간보다 페이징에 더 많은 시간이 소요되어 성능이 떨어지는 문제를 Thrashing(스레싱)이라 한다.

- Working Set (워킹셋) 이란?
: 프로세스는 일정 시간 동안 특정 주소를 집중적으로 참조하는 경향이 있다.
이러한 집중 참조 페이지들을 동시에 메모리에 올려야 하는 페이지들의 집합을 워킹셋이라고 한다.
    - 워킹셋 모델 : 지역성을 기반으로 가장 많이 쓰이는 페이지 집합을 메모리 공간에 계속 상주 시켜 스레싱을 줄이는 방법
    - 워킹셋 윈도우 : 주로 델타로 표시하며 고정된 숫자
    - 워킹셋 사이즈 : 각 프로세스 별로 가장 많이 쓰이고 있는 페이지의 갯수

[Working Set theory](image.png)

워킹셋 윈도우가 10으로 고정되어 있고 페이지를 10개로 잡으면 그게 WS(t1)이 된다.
t1에서 워킹셋은 1,2,5,6, 7이고 워킹셋 사이즈는 5가 된다.
t2에서의 워킹셋은 3,4이고 사이즈는 2다.

각 프로세스의 워킹셋 사이즈의 총합을 D라고 칭하고 m은 메모리의 크기 D가 m보다 크면 스레싱이 발생하게 된다.
이렇게 운영체제는 프로세스들의 WS, 워킹셋을 모니터 하며 프레임을 할당하게 된다.
D가 m보다 작으면 새 프로세스를 실행 시키고 반대로 m이 더 크다면 하나의 프로세스를 중단한다.
이와 같이 워킹셋으로 스레싱을 방지할 수 있다.